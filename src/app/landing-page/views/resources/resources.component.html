<section class="banner">
  <div class="content">
    <h1>Resources</h1>
  </div>
</section>
<div class="container-fluid g-0">
  <div class="row tabs-wrapper">
    <div class="tabs">
      <p>Articles</p>
      <p>E-Books</p>
      <p>Guides</p>
    </div>
  </div>
  <div class="lisiting-container mt-4">
    <div class="layout-icon d-flex align-items-center">
      <div
        class="grid-layout-icon d-flex align-items-center"
        [ngClass]="{ 'active-layout': selectedLayout == 'grid' }"
        (click)="handleLayout('grid')"
      >
        <mat-icon>grid_on</mat-icon>
      </div>
      <div
        class="list-layout-icon d-flex align-items-center"
        [ngClass]="{ 'active-layout': selectedLayout == 'list' }"
        (click)="handleLayout('list')"
      >
        <mat-icon>view_list</mat-icon>
      </div>
      <!-- <div class="mx-1">
              <mat-select>
                  <mat-option></mat-option>
              </mat-select>
          </div> -->
    </div>
    <div class="view-container">
      @if (selectedLayout == 'grid') {
        <div class="grid-view-container row">
          @for (
            key of publishEventsArray
              | paginate
                : {
                    itemsPerPage: postPerPage,
                    currentPage: currentPage,
                    totalItems: totalCount
                  };
            track $index
          ) {
            <div class="grid-card col-12 col-md-6 col-lg-4">
              <div class="event-wrapper">
                <div
                  class="listing-img"
                  (click)="gotToEventDetails(key.post_id, true)"
                  [style.background-image]="
                    'url(' +
                    (key.featured_image
                      ? key.featured_image
                      : '/assets/image/no-image.webp') +
                    ')'
                  "
                >
                  <!-- @if (key && key.featured_image && key.featured_image.length > 0) {
                <img [src]="key.featured_image[0]" (click)="gotToEventDetails(key.post_id, true)" />
                } @else {
                <img src="/assets/image/No-image-found.jpeg" alt="no-image" />
                } -->
                </div>
                <div class="listing-description">
                  <div class="listing-heading">
                    <h3 (click)="gotToEventDetails(key.post_id, true)">
                      {{ key.post_title }}
                    </h3>
                  </div>
                  <div class="listing-info">
                    <li class="post-content">{{ key.post_content }}</li>
                  </div>
                  <!-- <div class="lisiting-package">
                      <span>$ Package : Free Business</span>
                    </div> -->
                  <!-- @if (key?.rating_count) {
              <div class="listing-rating">
                <div class="d-flex">
                  @if (key?.rating_count >= 1) {
                  <i class="fa fa-star" aria-hidden="true" style="color: rgb(155, 155, 155); font-size: 17px"></i>
                  }
                  @if (key?.rating_count >= 2) {
                  <i class="fa fa-star" aria-hidden="true" style="color: rgb(155, 155, 155); font-size: 17px"></i>
                  }
                  @if (key?.rating_count >= 3) {
                  <i class="fa fa-star" aria-hidden="true" style="color: rgb(155, 155, 155); font-size: 17px"></i>
                  }
                  @if (key?.rating_count >= 4) {
                  <i class="fa fa-star" aria-hidden="true" style="color: rgb(155, 155, 155); font-size: 17px"></i>
                  }
                  @if (key?.rating_count > 4) {
                  <i class="fa fa-star" aria-hidden="true" style="color: rgb(155, 155, 155); font-size: 17px"></i>
                  }
                </div>
              </div>
              } -->
                </div>
              </div>
            </div>
          }
        </div>
      } @else {
        <div class="list-view-container">
          @for (
            key of publishEventsArray
              | paginate
                : {
                    itemsPerPage: postPerPage,
                    currentPage: currentPage,
                    totalItems: totalCount
                  };
            track $index
          ) {
            <div class="d-flex small-screen-view">
              <div
                class="listing-img-container"
                (click)="gotToEventDetails(key.post_id, true)"
              >
                <div
                  class="listing-img"
                  (click)="gotToEventDetails(key.post_id, true)"
                >
                  <!-- <img *ngIf="key && key.featured_image && key.featured_image.length > 0" [src]="key?.featured_image[0]" /> -->
                  @if (
                    key && key.featured_image && key.featured_image.length > 0
                  ) {
                    <img
                      [src]="key.featured_image[0]"
                      (click)="gotToEventDetails(key.post_id, true)"
                    />
                  } @else {
                    <img src="/assets/image/no-image.webp" alt="no-image" />
                  }
                </div>
              </div>
              <div class="listing-img-info">
                <div
                  class="listing-heading"
                  (click)="gotToEventDetails(key.post_id, true)"
                >
                  <h3>
                    {{ key.post_title }}
                  </h3>
                </div>
                <div class="listing-info">
                  <li>{{ key.post_content }}</li>
                </div>
                <!-- <div class="lisiting-package">
                      <span>$ Package : Free Business</span>
                    </div> -->
                @if (key?.rating_count) {
                  <div class="listing-rating">
                    <div class="d-flex">
                      @if (key?.rating_count >= 1) {
                        <i
                          class="fa fa-star"
                          aria-hidden="true"
                          style="color: rgb(155, 155, 155); font-size: 17px"
                        ></i>
                      }
                      @if (key?.rating_count >= 2) {
                        <i
                          class="fa fa-star"
                          aria-hidden="true"
                          style="color: rgb(155, 155, 155); font-size: 17px"
                        ></i>
                      }
                      @if (key?.rating_count >= 3) {
                        <i
                          class="fa fa-star"
                          aria-hidden="true"
                          style="color: rgb(155, 155, 155); font-size: 17px"
                        ></i>
                      }
                      @if (key?.rating_count >= 4) {
                        <i
                          class="fa fa-star"
                          aria-hidden="true"
                          style="color: rgb(155, 155, 155); font-size: 17px"
                        ></i>
                      }
                      @if (key?.rating_count > 4) {
                        <i
                          class="fa fa-star"
                          aria-hidden="true"
                          style="color: rgb(155, 155, 155); font-size: 17px"
                        ></i>
                      }
                    </div>
                  </div>
                }
              </div>
            </div>
          }
        </div>
      }
    </div>
  </div>

  <!-- Pagintion -->
</div>
